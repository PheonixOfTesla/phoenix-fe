<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="description" content="Phoenix - The Most Sophisticated AI Life Companion">
    <title>Phoenix - AI Life Operating System</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="/phoenix-voice.css">
</head>
<body>
    <!-- ============================================ -->
    <!-- LOADING SCREEN -->
    <!-- ============================================ -->
    <div id="loading" style="position:fixed;top:0;left:0;width:100%;height:100%;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10000;transition:opacity 1s">
        <div style="font-size:64px;color:#00ffff;text-shadow:0 0 30px rgba(0,255,255,1);letter-spacing:12px;margin-bottom:30px;animation:pulse 2s infinite">PHOENIX</div>
        <div style="width:60px;height:60px;border:3px solid rgba(0,255,255,0.2);border-top-color:#00ffff;border-radius:50%;animation:spin 1s linear infinite"></div>
        <div style="margin-top:30px;color:rgba(0,255,255,0.7);font-size:14px;letter-spacing:2px">INITIALIZING AI SYSTEMS...</div>
    </div>

    <!-- ============================================ -->
    <!-- FIRST-TIME SYNC PROMPT -->
    <!-- ============================================ -->
    <div id="sync-prompt" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.98);z-index:9500;display:none;align-items:center;justify-content:center;flex-direction:column">
        <div style="max-width:600px;padding:40px;text-align:center">
            <div style="font-size:48px;color:#00ffff;margin-bottom:20px;text-shadow:0 0 30px rgba(0,255,255,1)">‚ö°</div>
            <div style="font-size:32px;color:#00ffff;margin-bottom:20px;text-shadow:0 0 20px rgba(0,255,255,1);letter-spacing:4px">SYNC YOUR LIFE</div>
            <div style="font-size:16px;color:rgba(0,255,255,0.7);line-height:1.8;margin-bottom:30px">
                Connect your devices, calendars, banks, and goals to unlock Phoenix's full potential.
                The more data I have, the smarter I become.
            </div>
            <div id="sync-checklist" style="text-align:left;margin-bottom:30px;padding:20px;background:rgba(0,255,255,0.05);border:1px solid rgba(0,255,255,0.3);border-radius:8px">
                <!-- Dynamically populated -->
            </div>
            <div style="display:flex;gap:15px;justify-content:center">
                <button onclick="startFullSync()" style="padding:15px 40px;background:rgba(0,255,255,0.2);border:2px solid #00ffff;color:#00ffff;font-family:inherit;font-size:14px;cursor:pointer;border-radius:8px;letter-spacing:2px;font-weight:bold">
                    START SYNC
                </button>
                <button onclick="skipSync()" style="padding:15px 40px;background:transparent;border:1px solid rgba(0,255,255,0.3);color:rgba(0,255,255,0.6);font-family:inherit;font-size:14px;cursor:pointer;border-radius:8px;letter-spacing:2px">
                    SKIP FOR NOW
                </button>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- HUD FRAME & CORNER BRACKETS -->
    <!-- ============================================ -->
    <div class="hud-frame">
        <div class="corner-bracket top-left"></div>
        <div class="corner-bracket top-right"></div>
        <div class="corner-bracket bottom-left"></div>
        <div class="corner-bracket bottom-right"></div>
    </div>

    <!-- ============================================ -->
    <!-- VISUAL EFFECTS LAYERS -->
    <!-- ============================================ -->
    <div class="grid-underlay"></div>
    <div class="vhs-overlay"></div>

    <!-- ============================================ -->
    <!-- PERSONALIZED GREETING -->
    <!-- ============================================ -->
    <div id="greeting" style="position:fixed;top:20%;left:50%;transform:translateX(-50%);text-align:center;z-index:500;opacity:0;animation:fadeIn 1s 1s forwards;pointer-events:none">
        <div class="greeting-main" style="font-size:36px;color:#00ffff;margin-bottom:10px;text-shadow:0 0 20px rgba(0,255,255,1)">Welcome Back</div>
        <div class="greeting-sub" style="font-size:14px;color:rgba(0,255,255,0.6)">All systems operational</div>
    </div>

    <!-- ============================================ -->
    <!-- TOP LEFT HUD: TIME, DATE, WEATHER, LOCATION -->
    <!-- ============================================ -->
    <div id="hud-tl" style="position:fixed;top:20px;left:20px;z-index:1000;pointer-events:none;padding:15px;background:rgba(0,10,20,0.9);border:1px solid rgba(0,255,255,0.3);backdrop-filter:blur(10px);border-radius:8px;min-width:240px">
        <!-- Time Display -->
        <div style="font-size:9px;color:rgba(0,255,255,0.5);letter-spacing:1px">LOCAL TIME</div>
        <div id="time-display" style="font-size:20px;color:#00ffff;font-weight:bold;text-shadow:0 0 10px rgba(0,255,255,0.8);margin-bottom:12px">--:--</div>
        
        <!-- Date Display -->
        <div style="font-size:9px;color:rgba(0,255,255,0.5);letter-spacing:1px">DATE</div>
        <div id="date-display" style="font-size:12px;color:#00ffff;margin-bottom:12px">---</div>
        
        <!-- Location (IP Geolocation) -->
        <div style="font-size:9px;color:rgba(0,255,255,0.5);letter-spacing:1px">LOCATION</div>
        <div id="location-display" style="font-size:11px;color:#00ffff;margin-bottom:5px;display:flex;align-items:center;gap:6px">
            <span id="location-icon">üìç</span>
            <span id="location-text">Detecting...</span>
        </div>
        
        <!-- Weather Widget -->
        <div style="font-size:9px;color:rgba(0,255,255,0.5);letter-spacing:1px;margin-top:10px">WEATHER</div>
        <div id="weather-display" style="display:flex;align-items:center;gap:10px;margin-top:6px;padding:8px;background:rgba(0,255,255,0.05);border-radius:6px">
            <span id="weather-icon" style="font-size:24px">‚òÄÔ∏è</span>
            <div style="flex:1">
                <div id="weather-temp" style="font-size:16px;color:#00ffff;font-weight:bold">--¬∞F</div>
                <div id="weather-condition" style="font-size:10px;color:rgba(0,255,255,0.7)">Loading...</div>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- TOP RIGHT HUD: RECOVERY & SYNC STATUS -->
    <!-- ============================================ -->
    <div id="hud-tr" style="position:fixed;top:20px;right:20px;z-index:1000;pointer-events:auto;text-align:right;padding:15px;background:rgba(0,10,20,0.9);border:1px solid rgba(0,255,255,0.3);backdrop-filter:blur(10px);border-radius:8px;min-width:180px">
        <!-- Recovery Score -->
        <div style="font-size:9px;color:rgba(0,255,255,0.5);letter-spacing:1px">RECOVERY</div>
        <div id="recovery-value" style="font-size:24px;color:#00ffff;font-weight:bold;margin:5px 0">--</div>
        <div style="width:140px;height:6px;background:rgba(0,255,255,0.2);margin:8px 0;border-radius:3px;overflow:hidden">
            <div id="recovery-fill" style="width:0%;height:100%;background:linear-gradient(90deg, #00ffff, #00ff88);transition:width 0.5s;box-shadow:0 0 10px rgba(0,255,255,0.6)"></div>
        </div>
        <div id="recovery-status" style="font-size:9px;color:rgba(0,255,255,0.6);margin-bottom:12px">Analyzing...</div>
        
        <!-- Sync Status Button -->
        <button id="sync-status-btn" onclick="openSyncPanel()" style="width:100%;padding:10px;background:rgba(0,255,255,0.1);border:1px solid rgba(0,255,255,0.3);color:#00ffff;font-family:inherit;font-size:11px;cursor:pointer;border-radius:6px;letter-spacing:1px;display:flex;align-items:center;justify-content:center;gap:8px;transition:all 0.3s">
            <span id="sync-icon">‚ö°</span>
            <span id="sync-text">SYNC</span>
        </button>
    </div>

    <!-- ============================================ -->
    <!-- BOTTOM LEFT HUD: SYSTEM STATUS & INTEGRATIONS -->
    <!-- ============================================ -->
    <div id="hud-bl" style="position:fixed;bottom:20px;left:20px;z-index:1000;pointer-events:none;padding:15px;background:rgba(0,10,20,0.9);border:1px solid rgba(0,255,255,0.3);backdrop-filter:blur(10px);border-radius:8px;min-width:200px">
        <div style="font-size:9px;color:rgba(0,255,255,0.5);letter-spacing:1px">SYSTEM STATUS</div>
        <div id="status-display" style="font-size:13px;color:#00ff88;font-weight:bold;margin:5px 0;display:flex;align-items:center;gap:8px">
            <span style="width:8px;height:8px;background:#00ff88;border-radius:50%;box-shadow:0 0 10px #00ff88;animation:pulse 2s infinite"></span>
            ONLINE
        </div>
        
        <!-- Connected Services -->
        <div style="margin-top:12px;padding-top:12px;border-top:1px solid rgba(0,255,255,0.2)">
            <div style="font-size:9px;color:rgba(0,255,255,0.5);letter-spacing:1px;margin-bottom:8px">CONNECTED</div>
            <div id="connected-services" style="display:flex;flex-wrap:wrap;gap:6px">
                <!-- Dynamically populated -->
            </div>
        </div>
        
        <!-- AI Processing -->
        <div id="ai-processing" style="margin-top:12px;padding-top:12px;border-top:1px solid rgba(0,255,255,0.2);display:none">
            <div style="font-size:9px;color:rgba(0,255,255,0.5);letter-spacing:1px;margin-bottom:6px">AI PROCESSING</div>
            <div style="font-size:10px;color:#00ffff;display:flex;align-items:center;gap:6px">
                <div style="width:12px;height:12px;border:2px solid rgba(0,255,255,0.3);border-top-color:#00ffff;border-radius:50%;animation:spin 1s linear infinite"></div>
                <span id="ai-status-text">Analyzing...</span>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- BOTTOM RIGHT: VOICE CONTROLS -->
    <!-- ============================================ -->
    <div class="voice-controls" style="position:fixed;bottom:20px;right:20px;z-index:6000;display:flex;flex-direction:column;gap:10px;align-items:flex-end">
        <!-- Voice Button -->
        <button class="voice-btn" onclick="toggleVoice(); toggleConversationPanel();" style="padding:14px 28px;background:rgba(0,255,255,0.1);border:2px solid rgba(0,255,255,0.5);color:#00ffff;font-size:14px;cursor:pointer;border-radius:8px;transition:all 0.3s;display:flex;align-items:center;gap:10px;font-weight:bold;letter-spacing:1px;pointer-events:auto">
            <span style="font-size:20px">üéôÔ∏è</span>
            TALK TO PHOENIX
        </button>
        
        <!-- Voice Personality Selector -->
        <select class="voice-selector" onchange="changeVoice(this.value)" style="padding:8px 12px;background:rgba(0,10,20,0.9);border:1px solid rgba(0,255,255,0.3);color:#00ffff;font-size:11px;cursor:pointer;border-radius:6px;outline:none;pointer-events:auto">
            <option value="echo">üá¨üáß Echo - British Butler</option>
            <option value="nova" selected>üòä Nova - Friendly Helper</option>
            <option value="onyx">üíº Onyx - Professional</option>
            <option value="fable">‚ú® Fable - Storyteller</option>
            <option value="shimmer">üå∏ Shimmer - Gentle Guide</option>
            <option value="alloy">‚ö° Alloy - Efficient</option>
        </select>
    </div>

    <!-- ============================================ -->
    <!-- SYNC PANEL - COMPREHENSIVE CONNECTION CENTER -->
    <!-- ============================================ -->
    <div id="sync-panel" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.98);z-index:9000;display:none;overflow-y:auto">
        <div style="max-width:1200px;margin:0 auto;padding:40px 20px">
            <!-- Header -->
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:40px">
                <div>
                    <div style="font-size:36px;color:#00ffff;text-shadow:0 0 20px rgba(0,255,255,1);letter-spacing:4px;margin-bottom:10px">SYNC CENTER</div>
                    <div style="font-size:14px;color:rgba(0,255,255,0.6)">Connect all your life systems ‚Ä¢ <span id="sync-count">0</span> of 6 Planets Connected</div>
                </div>
                <button onclick="closeSyncPanel()" style="width:50px;height:50px;background:rgba(0,10,20,0.9);border:2px solid rgba(0,255,255,0.5);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:24px;color:#00ffff">
                    ‚úï
                </button>
            </div>

            <!-- Sync All Button -->
            <button id="sync-all-btn" onclick="syncAllPlanets()" style="width:100%;padding:20px;background:linear-gradient(135deg, rgba(0,255,255,0.2), rgba(0,255,136,0.2));border:2px solid #00ffff;color:#00ffff;font-family:inherit;font-size:16px;cursor:pointer;border-radius:8px;letter-spacing:2px;font-weight:bold;margin-bottom:40px;box-shadow:0 0 30px rgba(0,255,255,0.3);transition:all 0.3s">
                ‚ö° SYNC ALL PLANETS NOW
            </button>

            <!-- Planetary Systems Grid -->
            <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(350px, 1fr));gap:20px">
                <!-- MERCURY - Health & Biometrics -->
                <div class="sync-card" data-planet="mercury">
                    <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:15px">
                        <div>
                            <div style="font-size:24px;color:#ff6b35;margin-bottom:8px">üí™ MERCURY</div>
                            <div style="font-size:16px;color:#ff6b35;font-weight:bold;margin-bottom:4px">HEALTH & RECOVERY</div>
                            <div style="font-size:11px;color:rgba(255,107,53,0.7)">Wearables ‚Ä¢ Biometrics ‚Ä¢ Sleep ‚Ä¢ Recovery</div>
                        </div>
                        <div id="mercury-status" class="status-badge" style="padding:6px 12px;background:rgba(255,107,53,0.1);border:1px solid rgba(255,107,53,0.3);border-radius:4px;font-size:10px;color:#ff6b35">
                            NOT CONNECTED
                        </div>
                    </div>
                    
                    <div class="device-list" style="margin:15px 0">
                        <div class="device-item" data-device="fitbit">
                            <span>‚åö Fitbit</span>
                            <button onclick="connectDevice('fitbit')" class="connect-btn">CONNECT</button>
                        </div>
                        <div class="device-item" data-device="polar">
                            <span>‚ù§Ô∏è Polar</span>
                            <button onclick="connectDevice('polar')" class="connect-btn">CONNECT</button>
                        </div>
                    </div>
                    
                    <div style="font-size:10px;color:rgba(255,107,53,0.6);line-height:1.6;margin-top:12px">
                        <strong>38 endpoints:</strong> HRV, Heart Rate, Sleep Analysis, Recovery Score, Readiness, Body Composition, Metabolic Rate, Training Load
                    </div>
                </div>

                <!-- VENUS - Fitness & Nutrition -->
                <div class="sync-card" data-planet="venus">
                    <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:15px">
                        <div>
                            <div style="font-size:24px;color:#ff66ff;margin-bottom:8px">üçΩÔ∏è VENUS</div>
                            <div style="font-size:16px;color:#ff66ff;font-weight:bold;margin-bottom:4px">FITNESS & NUTRITION</div>
                            <div style="font-size:11px;color:rgba(255,102,255,0.7)">Workouts ‚Ä¢ Meals ‚Ä¢ Macros ‚Ä¢ AI Planning</div>
                        </div>
                        <div id="venus-status" class="status-badge">
                            NOT CONNECTED
                        </div>
                    </div>
                    
                    <button onclick="setupVenus()" style="width:100%;padding:12px;background:rgba(255,102,255,0.1);border:1px solid rgba(255,102,255,0.3);color:#ff66ff;font-family:inherit;font-size:12px;cursor:pointer;border-radius:6px;letter-spacing:1px;margin:15px 0">
                        SETUP NUTRITION & FITNESS
                    </button>
                    
                    <div style="font-size:10px;color:rgba(255,102,255,0.6);line-height:1.6;margin-top:12px">
                        <strong>77 endpoints:</strong> Quantum Workouts, Meal Planning, Macro Tracking, Supplement Timing, Injury Prevention, Form Analysis, Progress Photos
                    </div>
                </div>

                <!-- EARTH - Calendar & Energy -->
                <div class="sync-card" data-planet="earth">
                    <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:15px">
                        <div>
                            <div style="font-size:24px;color:#00ff88;margin-bottom:8px">üåç EARTH</div>
                            <div style="font-size:16px;color:#00ff88;font-weight:bold;margin-bottom:4px">TIME & ENERGY</div>
                            <div style="font-size:11px;color:rgba(0,255,136,0.7)">Calendar ‚Ä¢ Energy Optimization ‚Ä¢ Scheduling</div>
                        </div>
                        <div id="earth-status" class="status-badge">
                            NOT CONNECTED
                        </div>
                    </div>
                    
                    <div class="device-list" style="margin:15px 0">
                        <div class="device-item" data-device="google-calendar">
                            <span>üìÖ Google Calendar</span>
                            <button onclick="connectCalendar('google')" class="connect-btn">CONNECT</button>
                        </div>
                    </div>
                    
                    <div style="font-size:10px;color:rgba(0,255,136,0.6);line-height:1.6;margin-top:12px">
                        <strong>11 endpoints:</strong> Calendar Sync, Energy Mapping, Conflict Detection, Optimal Meeting Times, Energy Prediction, Schedule Optimization
                    </div>
                </div>

                <!-- MARS - Goals & Habits -->
                <div class="sync-card" data-planet="mars">
                    <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:15px">
                        <div>
                            <div style="font-size:24px;color:#ff4444;margin-bottom:8px">üéØ MARS</div>
                            <div style="font-size:16px;color:#ff4444;font-weight:bold;margin-bottom:4px">GOALS & PROGRESS</div>
                            <div style="font-size:11px;color:rgba(255,68,68,0.7)">Goals ‚Ä¢ Habits ‚Ä¢ Milestones ‚Ä¢ Tracking</div>
                        </div>
                        <div id="mars-status" class="status-badge">
                            NOT CONNECTED
                        </div>
                    </div>
                    
                    <button onclick="setupMars()" style="width:100%;padding:12px;background:rgba(255,68,68,0.1);border:1px solid rgba(255,68,68,0.3);color:#ff4444;font-family:inherit;font-size:12px;cursor:pointer;border-radius:6px;letter-spacing:1px;margin:15px 0">
                        CREATE FIRST GOAL
                    </button>
                    
                    <div style="font-size:10px;color:rgba(255,68,68,0.6);line-height:1.6;margin-top:12px">
                        <strong>20 endpoints:</strong> SMART Goals, Habit Tracking, Progress Velocity, Predictions, Bottleneck Analysis, Motivational Interventions
                    </div>
                </div>

                <!-- JUPITER - Finance -->
                <div class="sync-card" data-planet="jupiter">
                    <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:15px">
                        <div>
                            <div style="font-size:24px;color:#ffaa00;margin-bottom:8px">üí∞ JUPITER</div>
                            <div style="font-size:16px;color:#ffaa00;font-weight:bold;margin-bottom:4px">WEALTH & FINANCE</div>
                            <div style="font-size:11px;color:rgba(255,170,0,0.7)">Banking ‚Ä¢ Spending ‚Ä¢ Budgets ‚Ä¢ Correlations</div>
                        </div>
                        <div id="jupiter-status" class="status-badge">
                            NOT CONNECTED
                        </div>
                    </div>
                    
                    <button onclick="connectPlaid()" style="width:100%;padding:12px;background:rgba(255,170,0,0.1);border:1px solid rgba(255,170,0,0.3);color:#ffaa00;font-family:inherit;font-size:12px;cursor:pointer;border-radius:6px;letter-spacing:1px;margin:15px 0">
                        CONNECT BANK ACCOUNTS
                    </button>
                    
                    <div style="font-size:10px;color:rgba(255,170,0,0.6);line-height:1.6;margin-top:12px">
                        <strong>17 endpoints:</strong> Transaction Tracking, Spending Patterns, Budget Alerts, Recurring Detection, Stress-Money Correlation
                    </div>
                </div>

                <!-- SATURN - Legacy -->
                <div class="sync-card" data-planet="saturn">
                    <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:15px">
                        <div>
                            <div style="font-size:24px;color:#8844ff;margin-bottom:8px">‚è≥ SATURN</div>
                            <div style="font-size:16px;color:#8844ff;font-weight:bold;margin-bottom:4px">LEGACY & LONGEVITY</div>
                            <div style="font-size:11px;color:rgba(136,68,255,0.7)">Long-term Health ‚Ä¢ Life Timeline ‚Ä¢ Aging</div>
                        </div>
                        <div id="saturn-status" class="status-badge">
                            NOT CONNECTED
                        </div>
                    </div>
                    
                    <button onclick="setupSaturn()" style="width:100%;padding:12px;background:rgba(136,68,255,0.1);border:1px solid rgba(136,68,255,0.3);color:#8844ff;font-family:inherit;font-size:12px;cursor:pointer;border-radius:6px;letter-spacing:1px;margin:15px 0">
                        SETUP LONGEVITY PROFILE
                    </button>
                    
                    <div style="font-size:10px;color:rgba(136,68,255,0.6);line-height:1.6;margin-top:12px">
                        <strong>30 endpoints:</strong> Longevity Score, Aging Analysis, Life Timeline, Health Trajectory, Biological Age vs Chronological Age
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- CIRCULAR ACTION MENU -->
    <!-- ============================================ -->
    <div id="action-menu" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:8000;display:none">
        <div style="position:relative;width:400px;height:400px">
            <!-- Workout (Mercury) -->
            <div class="action-button-circular" id="action-workout" data-tooltip="Log workouts, view performance" style="position:absolute;top:10%;left:50%;transform:translate(-50%,-50%);width:80px;height:80px;background:rgba(0,10,20,0.9);border:2px solid rgba(255,107,53,0.5);border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all 0.3s">
                <div style="font-size:28px;margin-bottom:5px">üí™</div>
                <div style="font-size:10px;color:#ff6b35;letter-spacing:1px;font-weight:bold">WORKOUT</div>
            </div>
            
            <!-- Meal (Venus) -->
            <div class="action-button-circular" id="action-meal" data-tooltip="Log meals, track macros" style="position:absolute;top:30%;right:10%;transform:translate(50%,-50%);width:80px;height:80px;background:rgba(0,10,20,0.9);border:2px solid rgba(255,102,255,0.5);border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all 0.3s">
                <div style="font-size:28px;margin-bottom:5px">üçΩÔ∏è</div>
                <div style="font-size:10px;color:#ff66ff;letter-spacing:1px;font-weight:bold">MEAL</div>
            </div>
            
            <!-- Goals (Mars) -->
            <div class="action-button-circular" id="action-goals" data-tooltip="Track goals & habits" style="position:absolute;bottom:30%;right:10%;transform:translate(50%,50%);width:80px;height:80px;background:rgba(0,10,20,0.9);border:2px solid rgba(255,68,68,0.5);border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all 0.3s">
                <div style="font-size:28px;margin-bottom:5px">üéØ</div>
                <div style="font-size:10px;color:#ff4444;letter-spacing:1px;font-weight:bold">GOALS</div>
            </div>
            
            <!-- Chat (Phoenix AI) -->
            <div class="action-button-circular" id="action-chat" data-tooltip="Talk to Phoenix AI" style="position:absolute;bottom:10%;left:50%;transform:translate(-50%,50%);width:80px;height:80px;background:rgba(0,10,20,0.9);border:2px solid rgba(0,255,255,0.5);border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all 0.3s">
                <div style="font-size:28px;margin-bottom:5px">üí¨</div>
                <div style="font-size:10px;color:#00ffff;letter-spacing:1px;font-weight:bold">CHAT</div>
            </div>
            
            <!-- Butler (Autonomous Actions) -->
            <div class="action-button-circular" id="action-butler" data-tooltip="Order food, book rides, etc." style="position:absolute;bottom:30%;left:10%;transform:translate(-50%,50%);width:80px;height:80px;background:rgba(0,10,20,0.9);border:2px solid rgba(0,255,136,0.5);border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all 0.3s">
                <div style="font-size:28px;margin-bottom:5px">ü§µ</div>
                <div style="font-size:10px;color:#00ff88;letter-spacing:1px;font-weight:bold">BUTLER</div>
            </div>
            
            <!-- Insights (Analytics) -->
            <div class="action-button-circular" id="action-insights" data-tooltip="View AI insights & patterns" style="position:absolute;top:30%;left:10%;transform:translate(-50%,-50%);width:80px;height:80px;background:rgba(0,10,20,0.9);border:2px solid rgba(255,170,0,0.5);border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all 0.3s">
                <div style="font-size:28px;margin-bottom:5px">üìä</div>
                <div style="font-size:10px;color:#ffaa00;letter-spacing:1px;font-weight:bold">INSIGHTS</div>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- PLANET DETAIL MODAL -->
    <!-- ============================================ -->
    <div id="planet-detail" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.98);z-index:7000;display:none;overflow-y:auto">
        <div id="close-detail" style="position:fixed;top:30px;right:30px;width:50px;height:50px;background:rgba(0,10,20,0.9);border:2px solid rgba(0,255,255,0.5);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:24px;color:#00ffff;z-index:7100;transition:all 0.3s">
            ‚úï
        </div>
        
        <div style="padding:40px;text-align:center">
            <div id="detail-title" style="font-size:36px;color:#00ffff;text-shadow:0 0 20px rgba(0,255,255,1);margin-bottom:10px">LOADING...</div>
            <div id="detail-subtitle" style="font-size:14px;color:rgba(0,255,255,0.6);margin-bottom:30px">Fetching data...</div>
        </div>
        
        <div id="detail-content" style="padding:40px;max-width:1200px;margin:0 auto">
            <!-- Dynamic content loaded by planets.js -->
        </div>
    </div>

    <!-- ============================================ -->
    <!-- QUICK ACTIONS BAR -->
    <!-- ============================================ -->
    <div id="quick-actions" style="position:fixed;bottom:80px;left:50%;transform:translateX(-50%);display:flex;gap:15px;z-index:6000;opacity:0;animation:fadeIn 1s 2s forwards">
        <button id="quick-workout" class="quick-action-btn" data-tooltip="üí™ Log Workout">
            LOG WORKOUT
        </button>
        <button id="quick-meal" class="quick-action-btn" data-tooltip="üçΩÔ∏è Log Meal">
            LOG MEAL
        </button>
        <button id="quick-butler" class="quick-action-btn" data-tooltip="ü§µ Butler Actions">
            ü§µ BUTLER
        </button>
        <button id="quick-chat" class="quick-action-btn" data-tooltip="üí¨ Voice Chat">
            ASK PHOENIX
        </button>
    </div>

    <!-- ============================================ -->
    <!-- THREE.JS SOLAR SYSTEM CONTAINER -->
    <!-- ============================================ -->
    <div id="container"></div>

    <!-- ============================================ -->
    <!-- PHOENIX CORE - CENTER SPHERE -->
    <!-- ============================================ -->
    <div id="phoenix-core-container" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:200px;height:200px;z-index:500;pointer-events:auto;cursor:pointer">
        <!-- Orbital Rings -->
        <div style="position:absolute;top:0;left:0;width:100%;height:100%">
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;border:1px solid rgba(0,255,255,0.4);border-radius:50%;animation:coreRotate 20s linear infinite"></div>
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:120%;height:120%;border:1px dashed rgba(0,255,255,0.3);border-radius:50%;animation:coreRotate 15s linear infinite reverse"></div>
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:140%;height:140%;border:1px dotted rgba(0,255,255,0.2);border-radius:50%;animation:coreRotate 25s linear infinite"></div>
        </div>
        
        <!-- Core Sphere -->
        <div id="phoenix-sphere" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100px;height:100px;background:radial-gradient(circle,rgba(0,255,255,0.8),rgba(0,255,255,0.2));border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 0 50px rgba(0,255,255,0.8),inset 0 0 30px rgba(0,255,255,0.4);animation:corePulse 2s ease-in-out infinite">
            <div style="font-size:14px;font-weight:bold;color:#00ffff;text-shadow:0 0 10px rgba(0,255,255,1);letter-spacing:3px;z-index:1">PHOENIX</div>
        </div>
        
        <!-- Particle Canvas -->
        <canvas id="phoenix-particles" width="200" height="200" style="position:absolute;top:0;left:0;pointer-events:none"></canvas>
    </div>

    <!-- ============================================ -->
    <!-- ENERGY BEAMS (SVG) -->
    <!-- ============================================ -->
    <svg id="energy-beams" style="position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:450"></svg>

    <!-- ============================================ -->
    <!-- CONVERSATION PANEL -->
    <!-- ============================================ -->
    <div id="conversation-panel" style="position:fixed;bottom:100px;right:24px;z-index:9997;background:rgba(0,10,20,0.95);border:2px solid rgba(0,255,255,0.5);border-radius:12px;padding:20px;max-width:400px;max-height:500px;display:none;backdrop-filter:blur(10px);box-shadow:0 0 40px rgba(0,255,255,0.3);overflow-y:auto">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px">
            <div style="font-size:18px;color:#00ffff;font-weight:bold;text-shadow:0 0 10px rgba(0,255,255,0.8)">
                üí¨ Conversation
            </div>
            <button onclick="toggleConversationPanel()" style="background:transparent;border:1px solid rgba(0,255,255,0.3);color:#00ffff;padding:4px 12px;border-radius:4px;cursor:pointer;font-size:11px">
                CLOSE
            </button>
        </div>
        
        <div id="conversation-container" style="display:flex;flex-direction:column;gap:10px;margin-bottom:15px;max-height:300px;overflow-y:auto">
            <!-- Messages appear here dynamically -->
        </div>
        
        <!-- Text Input Alternative to Voice -->
        <div style="display:flex;gap:8px;border-top:1px solid rgba(0,255,255,0.3);padding-top:15px">
            <input type="text" id="text-input" placeholder="Type or use voice..." onkeypress="if(event.key==='Enter' && this.value.trim()) { sendMessage(this.value); this.value=''; }" style="flex:1;padding:10px;background:rgba(0,255,255,0.1);border:1px solid rgba(0,255,255,0.3);color:#00ffff;border-radius:6px;outline:none;font-size:12px">
            <button onclick="const input = document.getElementById('text-input'); if(input.value.trim()) { sendMessage(input.value); input.value=''; }" style="padding:10px 20px;background:rgba(0,255,255,0.2);border:1px solid rgba(0,255,255,0.5);color:#00ffff;border-radius:6px;cursor:pointer;font-size:12px;font-weight:bold">
                SEND
            </button>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- BUTLER QUICK ACTIONS PANEL -->
    <!-- ============================================ -->
    <div id="butler-panel" style="position:fixed;bottom:180px;right:24px;z-index:9998;background:rgba(0,10,20,0.95);border:2px solid rgba(0,255,255,0.5);border-radius:12px;padding:20px;max-width:320px;display:none;backdrop-filter:blur(10px);box-shadow:0 0 40px rgba(0,255,255,0.3)">
        <div style="font-size:18px;color:#00ffff;margin-bottom:8px;font-weight:bold;text-shadow:0 0 10px rgba(0,255,255,0.8)">
            ü§µ Butler Actions
        </div>
        <div style="font-size:11px;color:rgba(0,255,255,0.6);margin-bottom:20px">
            Quick actions or use voice commands
        </div>
        
        <div style="display:grid;gap:10px">
            <!-- Food Ordering -->
            <button class="butler-quick-btn" onclick="butlerAction('food')" data-example="Order Thai food from Sukhothai">
                <span style="font-size:20px">üçî</span>
                <span>Order Food</span>
            </button>
            
            <!-- Ride Booking -->
            <button class="butler-quick-btn" onclick="butlerAction('ride')" data-example="Book Uber to airport">
                <span style="font-size:20px">üöó</span>
                <span>Book Ride</span>
            </button>
            
            <!-- Restaurant Reservation -->
            <button class="butler-quick-btn" onclick="butlerAction('reservation')" data-example="Reserve table at Nobu 7pm">
                <span style="font-size:20px">üçΩÔ∏è</span>
                <span>Reserve Table</span>
            </button>
            
            <!-- Calendar Event -->
            <button class="butler-quick-btn" onclick="butlerAction('calendar')" data-example="Add meeting tomorrow 2pm">
                <span style="font-size:20px">üìÖ</span>
                <span>Schedule Event</span>
            </button>
            
            <!-- Email -->
            <button class="butler-quick-btn" onclick="butlerAction('email')" data-example="Send email to John">
                <span style="font-size:20px">üìß</span>
                <span>Send Email</span>
            </button>
            
            <!-- Phone Call -->
            <button class="butler-quick-btn" onclick="butlerAction('call')" data-example="Call Mom">
                <span style="font-size:20px">üìû</span>
                <span>Make Call</span>
            </button>
        </div>
        
        <div style="margin-top:15px;padding-top:15px;border-top:1px solid rgba(0,255,255,0.3)">
            <button onclick="toggleButlerPanel()" style="width:100%;padding:8px;background:transparent;border:1px solid rgba(0,255,255,0.3);color:rgba(0,255,255,0.7);font-size:11px;cursor:pointer;border-radius:6px;transition:all 0.3s">
                CLOSE
            </button>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- VOICE OVERLAY -->
    <!-- ============================================ -->
    <div id="voice-overlay" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);display:none;align-items:center;justify-content:center;z-index:9000;flex-direction:column">
        <div style="width:200px;height:100px;margin-bottom:30px">
            <canvas id="waveform-canvas" width="200" height="100"></canvas>
        </div>
        <div id="voice-text" style="color:#00ffff;font-size:18px;text-align:center;padding:20px;max-width:80%;margin-bottom:20px;min-height:60px">
            Listening...
        </div>
        <div id="voice-transcript" style="color:#00ffff;font-size:14px;text-align:center;padding:10px;max-width:80%;margin-bottom:10px;min-height:30px;opacity:0.7">
            <!-- Real-time transcript appears here -->
        </div>
        <div id="voice-response" style="color:#00ff88;font-size:16px;text-align:center;padding:20px;max-width:80%;margin-bottom:20px;min-height:40px;background:rgba(0,255,136,0.1);border-radius:8px">
            <!-- AI response appears here -->
        </div>
        <button onclick="window.phoenixAI?.stopListening()" style="margin-top:30px;padding:12px 30px;background:rgba(255,68,68,0.2);border:1px solid rgba(255,68,68,0.5);color:#ff4444;cursor:pointer;border-radius:6px;font-size:12px">
            CANCEL
        </button>
    </div>

    <!-- ============================================ -->
    <!-- WORKOUT LOGGING MODAL -->
    <!-- ============================================ -->
    <div id="workout-modal" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.98);display:none;align-items:center;justify-content:center;z-index:10000;overflow-y:auto;padding:20px">
        <div style="background:linear-gradient(135deg, rgba(0,10,20,0.95), rgba(0,10,20,0.9));border:2px solid rgba(0,255,255,0.5);border-radius:12px;padding:40px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 0 50px rgba(0,255,255,0.3)">
            <!-- Header -->
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:20px;border-bottom:1px solid rgba(0,255,255,0.3)">
                <div style="font-size:28px;color:#00ffff;text-shadow:0 0 20px rgba(0,255,255,1);letter-spacing:3px">üí™ LOG WORKOUT</div>
                <button onclick="closeWorkoutModal()" style="width:40px;height:40px;background:rgba(255,68,68,0.2);border:2px solid rgba(255,68,68,0.5);border-radius:50%;color:#ff4444;font-size:24px;cursor:pointer;display:flex;align-items:center;justify-content:center">‚úï</button>
            </div>

            <!-- Workout Form -->
            <form id="workout-form" onsubmit="submitWorkout(event)">
                <!-- Workout Type -->
                <div style="margin-bottom:25px">
                    <label style="display:block;font-size:12px;color:rgba(0,255,255,0.7);letter-spacing:1px;margin-bottom:8px">WORKOUT TYPE</label>
                    <select id="workout-type" required style="width:100%;padding:12px 15px;background:rgba(0,255,255,0.05);border:1px solid rgba(0,255,255,0.3);border-radius:6px;color:#00ffff;font-family:inherit;font-size:14px">
                        <option value="strength">üí™ Strength Training</option>
                        <option value="cardio">üèÉ Cardio</option>
                        <option value="hiit">‚ö° HIIT</option>
                        <option value="yoga">üßò Yoga</option>
                        <option value="sports">‚öΩ Sports</option>
                        <option value="other">üéØ Other</option>
                    </select>
                </div>

                <!-- Exercise Name -->
                <div style="margin-bottom:25px">
                    <label style="display:block;font-size:12px;color:rgba(0,255,255,0.7);letter-spacing:1px;margin-bottom:8px">EXERCISE NAME</label>
                    <input type="text" id="exercise-name" required placeholder="e.g., Bench Press, Running, Squats" style="width:100%;padding:12px 15px;background:rgba(0,255,255,0.05);border:1px solid rgba(0,255,255,0.3);border-radius:6px;color:#00ffff;font-family:inherit;font-size:14px">
                </div>

                <!-- Sets & Reps -->
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-bottom:25px">
                    <div>
                        <label style="display:block;font-size:12px;color:rgba(0,255,255,0.7);letter-spacing:1px;margin-bottom:8px">SETS</label>
                        <input type="number" id="workout-sets" min="1" placeholder="3" style="width:100%;padding:12px 15px;background:rgba(0,255,255,0.05);border:1px solid rgba(0,255,255,0.3);border-radius:6px;color:#00ffff;font-family:inherit;font-size:14px">
                    </div>
                    <div>
                        <label style="display:block;font-size:12px;color:rgba(0,255,255,0.7);letter-spacing:1px;margin-bottom:8px">REPS</label>
                        <input type="number" id="workout-reps" min="1" placeholder="10" style="width:100%;padding:12px 15px;background:rgba(0,255,255,0.05);border:1px solid rgba(0,255,255,0.3);border-radius:6px;color:#00ffff;font-family:inherit;font-size:14px">
                    </div>
                </div>

                <!-- Weight & Duration -->
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-bottom:25px">
                    <div>
                        <label style="display:block;font-size:12px;color:rgba(0,255,255,0.7);letter-spacing:1px;margin-bottom:8px">WEIGHT (lbs)</label>
                        <input type="number" id="workout-weight" min="0" step="0.5" placeholder="135" style="width:100%;padding:12px 15px;background:rgba(0,255,255,0.05);border:1px solid rgba(0,255,255,0.3);border-radius:6px;color:#00ffff;font-family:inherit;font-size:14px">
                    </div>
                    <div>
                        <label style="display:block;font-size:12px;color:rgba(0,255,255,0.7);letter-spacing:1px;margin-bottom:8px">DURATION (min)</label>
                        <input type="number" id="workout-duration" min="1" placeholder="45" style="width:100%;padding:12px 15px;background:rgba(0,255,255,0.05);border:1px solid rgba(0,255,255,0.3);border-radius:6px;color:#00ffff;font-family:inherit;font-size:14px">
                    </div>
                </div>

                <!-- Notes -->
                <div style="margin-bottom:25px">
                    <label style="display:block;font-size:12px;color:rgba(0,255,255,0.7);letter-spacing:1px;margin-bottom:8px">NOTES (Optional)</label>
                    <textarea id="workout-notes" placeholder="How did you feel? Any PRs?" rows="3" style="width:100%;padding:12px 15px;background:rgba(0,255,255,0.05);border:1px solid rgba(0,255,255,0.3);border-radius:6px;color:#00ffff;font-family:inherit;font-size:14px;resize:vertical"></textarea>
                </div>

                <!-- Submit Button -->
                <button type="submit" style="width:100%;padding:15px;background:linear-gradient(135deg, rgba(0,255,255,0.2), rgba(0,255,136,0.2));border:2px solid #00ffff;color:#00ffff;font-family:inherit;font-size:16px;cursor:pointer;border-radius:8px;letter-spacing:2px;font-weight:bold;transition:all 0.3s">
                    üí™ LOG WORKOUT
                </button>
            </form>

            <!-- Loading State -->
            <div id="workout-loading" style="display:none;text-align:center;padding:20px">
                <div style="width:40px;height:40px;border:3px solid rgba(0,255,255,0.2);border-top-color:#00ffff;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 15px"></div>
                <div style="color:#00ffff">Logging workout...</div>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- MEAL LOGGING MODAL -->
    <!-- ============================================ -->
    <div id="meal-modal" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.98);display:none;align-items:center;justify-content:center;z-index:10000;overflow-y:auto;padding:20px">
        <div style="background:linear-gradient(135deg, rgba(0,10,20,0.95), rgba(0,10,20,0.9));border:2px solid rgba(255,102,255,0.5);border-radius:12px;padding:40px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 0 50px rgba(255,102,255,0.3)">
            <!-- Header -->
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:20px;border-bottom:1px solid rgba(255,102,255,0.3)">
                <div style="font-size:28px;color:#ff66ff;text-shadow:0 0 20px rgba(255,102,255,1);letter-spacing:3px">üçΩÔ∏è LOG MEAL</div>
                <button onclick="closeMealModal()" style="width:40px;height:40px;background:rgba(255,68,68,0.2);border:2px solid rgba(255,68,68,0.5);border-radius:50%;color:#ff4444;font-size:24px;cursor:pointer;display:flex;align-items:center;justify-content:center">‚úï</button>
            </div>

            <!-- Meal Form -->
            <form id="meal-form" onsubmit="submitMeal(event)">
                <!-- Meal Type -->
                <div style="margin-bottom:25px">
                    <label style="display:block;font-size:12px;color:rgba(255,102,255,0.7);letter-spacing:1px;margin-bottom:8px">MEAL TYPE</label>
                    <select id="meal-type" required style="width:100%;padding:12px 15px;background:rgba(255,102,255,0.05);border:1px solid rgba(255,102,255,0.3);border-radius:6px;color:#ff66ff;font-family:inherit;font-size:14px">
                        <option value="breakfast">üåÖ Breakfast</option>
                        <option value="lunch">üåû Lunch</option>
                        <option value="dinner">üåô Dinner</option>
                        <option value="snack">üçé Snack</option>
                        <option value="post-workout">üí™ Post-Workout</option>
                    </select>
                </div>

                <!-- Meal Name -->
                <div style="margin-bottom:25px">
                    <label style="display:block;font-size:12px;color:rgba(255,102,255,0.7);letter-spacing:1px;margin-bottom:8px">WHAT DID YOU EAT?</label>
                    <input type="text" id="meal-name" required placeholder="e.g., Chicken Breast with Rice and Broccoli" style="width:100%;padding:12px 15px;background:rgba(255,102,255,0.05);border:1px solid rgba(255,102,255,0.3);border-radius:6px;color:#ff66ff;font-family:inherit;font-size:14px">
                </div>

                <!-- Macros -->
                <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;margin-bottom:25px">
                    <div>
                        <label style="display:block;font-size:11px;color:rgba(255,102,255,0.7);letter-spacing:1px;margin-bottom:8px">PROTEIN (g)</label>
                        <input type="number" id="meal-protein" min="0" placeholder="40" style="width:100%;padding:12px 10px;background:rgba(255,102,255,0.05);border:1px solid rgba(255,102,255,0.3);border-radius:6px;color:#ff66ff;font-family:inherit;font-size:14px">
                    </div>
                    <div>
                        <label style="display:block;font-size:11px;color:rgba(255,102,255,0.7);letter-spacing:1px;margin-bottom:8px">CARBS (g)</label>
                        <input type="number" id="meal-carbs" min="0" placeholder="50" style="width:100%;padding:12px 10px;background:rgba(255,102,255,0.05);border:1px solid rgba(255,102,255,0.3);border-radius:6px;color:#ff66ff;font-family:inherit;font-size:14px">
                    </div>
                    <div>
                        <label style="display:block;font-size:11px;color:rgba(255,102,255,0.7);letter-spacing:1px;margin-bottom:8px">FATS (g)</label>
                        <input type="number" id="meal-fats" min="0" placeholder="15" style="width:100%;padding:12px 10px;background:rgba(255,102,255,0.05);border:1px solid rgba(255,102,255,0.3);border-radius:6px;color:#ff66ff;font-family:inherit;font-size:14px">
                    </div>
                </div>

                <!-- Calories -->
                <div style="margin-bottom:25px">
                    <label style="display:block;font-size:12px;color:rgba(255,102,255,0.7);letter-spacing:1px;margin-bottom:8px">CALORIES</label>
                    <input type="number" id="meal-calories" min="0" placeholder="500" style="width:100%;padding:12px 15px;background:rgba(255,102,255,0.05);border:1px solid rgba(255,102,255,0.3);border-radius:6px;color:#ff66ff;font-family:inherit;font-size:14px">
                </div>

                <!-- Notes -->
                <div style="margin-bottom:25px">
                    <label style="display:block;font-size:12px;color:rgba(255,102,255,0.7);letter-spacing:1px;margin-bottom:8px">NOTES (Optional)</label>
                    <textarea id="meal-notes" placeholder="How did you feel after eating? Where did you eat?" rows="3" style="width:100%;padding:12px 15px;background:rgba(255,102,255,0.05);border:1px solid rgba(255,102,255,0.3);border-radius:6px;color:#ff66ff;font-family:inherit;font-size:14px;resize:vertical"></textarea>
                </div>

                <!-- Submit Button -->
                <button type="submit" style="width:100%;padding:15px;background:linear-gradient(135deg, rgba(255,102,255,0.2), rgba(255,68,255,0.2));border:2px solid #ff66ff;color:#ff66ff;font-family:inherit;font-size:16px;cursor:pointer;border-radius:8px;letter-spacing:2px;font-weight:bold;transition:all 0.3s">
                    üçΩÔ∏è LOG MEAL
                </button>
            </form>

            <!-- Loading State -->
            <div id="meal-loading" style="display:none;text-align:center;padding:20px">
                <div style="width:40px;height:40px;border:3px solid rgba(255,102,255,0.2);border-top-color:#ff66ff;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 15px"></div>
                <div style="color:#ff66ff">Logging meal...</div>
            </div>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- COMPONENT STYLES -->
    <!-- ============================================ -->
    <style>
        .sync-card {
            background: linear-gradient(135deg, rgba(0,10,20,0.9), rgba(0,10,20,0.7));
            border: 1px solid rgba(0,255,255,0.3);
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s;
        }
        
        .sync-card:hover {
            border-color: rgba(0,255,255,0.6);
            box-shadow: 0 0 30px rgba(0,255,255,0.2);
            transform: translateY(-2px);
        }
        
        .device-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .device-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: rgba(0,255,255,0.05);
            border: 1px solid rgba(0,255,255,0.2);
            border-radius: 6px;
            font-size: 12px;
            color: rgba(0,255,255,0.8);
        }
        
        .connect-btn {
            padding: 6px 12px;
            background: rgba(0,255,255,0.1);
            border: 1px solid rgba(0,255,255,0.3);
            color: #00ffff;
            font-family: inherit;
            font-size: 10px;
            cursor: pointer;
            border-radius: 4px;
            letter-spacing: 1px;
            transition: all 0.3s;
        }
        
        .connect-btn:hover {
            background: rgba(0,255,255,0.2);
            border-color: #00ffff;
        }
        
        .connect-btn.connected {
            background: rgba(0,255,136,0.2);
            border-color: #00ff88;
            color: #00ff88;
        }
        
        .status-badge {
            padding: 6px 12px;
            background: rgba(255,68,68,0.1);
            border: 1px solid rgba(255,68,68,0.3);
            border-radius: 4px;
            font-size: 10px;
            color: #ff4444;
            letter-spacing: 1px;
            font-weight: bold;
        }
        
        .status-badge.connected {
            background: rgba(0,255,136,0.2);
            border-color: #00ff88;
            color: #00ff88;
        }

        /* Butler Quick Button Styles */
        .butler-quick-btn {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: rgba(0,255,255,0.1);
            border: 1px solid rgba(0,255,255,0.3);
            border-radius: 8px;
            color: #00ffff;
            font-family: inherit;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            position: relative;
        }
        
        .butler-quick-btn:hover {
            background: rgba(0,255,255,0.2);
            border-color: #00ffff;
            transform: translateX(5px);
            box-shadow: 0 0 20px rgba(0,255,255,0.4);
        }

        /* Quick Action Button Styles */
        .quick-action-btn {
            padding: 12px 24px;
            background: rgba(0,10,20,0.9);
            border: 1px solid rgba(0,255,255,0.3);
            color: #00ffff;
            font-family: inherit;
            font-size: 12px;
            cursor: pointer;
            letter-spacing: 1px;
            transition: all 0.3s;
            border-radius: 6px;
            font-weight: bold;
        }
        
        .quick-action-btn:hover {
            background: rgba(0,255,255,0.2);
            border-color: #00ffff;
            box-shadow: 0 0 20px rgba(0,255,255,0.4);
            transform: translateY(-2px);
        }

        /* Circular Action Button Hover */
        .action-button-circular:hover {
            background: rgba(0,255,255,0.2);
            border-color: #00ffff;
            transform: scale(1.15);
            box-shadow: 0 0 30px rgba(0,255,255,0.6);
        }

        /* Service Badge */
        .service-badge {
            display: inline-block;
            padding: 4px 8px;
            background: rgba(0,255,255,0.1);
            border: 1px solid rgba(0,255,255,0.3);
            border-radius: 4px;
            font-size: 9px;
            color: #00ffff;
            letter-spacing: 1px;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes coreRotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        @keyframes corePulse {
            0%, 100% { 
                transform: translate(-50%, -50%) scale(1);
                box-shadow: 0 0 50px rgba(0,255,255,0.8);
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.08);
                box-shadow: 0 0 70px rgba(0,255,255,1);
            }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>

    <!-- ============================================ -->
    <!-- THREE.JS LIBRARY -->
    <!-- ============================================ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- ============================================ -->
    <!-- FIRST-TIME USER DETECTION -->
    <!-- ============================================ -->
    <script>
    (function checkOnboarding() {
        const onboardingComplete = localStorage.getItem('phoenixOnboardingComplete');
        
        if (!onboardingComplete || onboardingComplete !== 'true') {
            console.log('üé¨ First-time user detected, redirecting to onboarding...');
            // TEMPORARILY DISABLED FOR TESTING
            // window.location.href = '/onboarding.html';
            // return;
        }
        
        console.log('‚úÖ Returning user, loading main app...');
    })();
    </script>
    
    <!-- ============================================ -->
    <!-- PHOENIX CORE ENGINE - WITH REAL API CONNECTIONS -->
    <!-- ============================================ -->
    <script>
        // API Configuration - ACTUAL BACKEND URL
        const API_BASE = 'https://pal-backend-production.up.railway.app/api';
        
        const getAuthHeaders = () => {
            const token = localStorage.getItem('phoenixToken');
            return {
                'Content-Type': 'application/json',
                'Authorization': token ? `Bearer ${token}` : ''
            };
        };

        // Helper function to make API requests with proper error handling
        async function fetchAPI(endpoint, options = {}) {
            try {
                const response = await fetch(`${API_BASE}${endpoint}`, {
                    ...options,
                    headers: {
                        ...getAuthHeaders(),
                        ...options.headers
                    }
                });
                
                const data = await response.json();
                console.log(`API Response (${endpoint}):`, data);
                return data;
            } catch (error) {
                console.error(`API Error (${endpoint}):`, error);
                return { success: false, error: error.message };
            }
        }

        /**
         * PHOENIX ENGINE CLASS
         * The Most Sophisticated AI Companion on Earth
         * Manages all 307 endpoints across 6 planetary systems
         */
        class PhoenixEngine {
            constructor() {
                // 3D Scene
                this.scene = null;
                this.camera = null;
                this.renderer = null;
                this.phoenixCore = null;
                this.planets = [];
                this.particles = [];
                
                // State
                this.time = 0;
                this.recoveryScore = 75;
                this.mouseX = 0;
                this.mouseY = 0;
                
                // User Data
                this.userId = null;
                this.userData = {};
                this.actionMenuOpen = false;
                this.currentPlanet = null;
                
                // Connection Status
                this.connectedSystems = {
                    mercury: false,
                    venus: false,
                    earth: false,
                    mars: false,
                    jupiter: false,
                    saturn: false
                };
                
                // Location & Weather
                this.location = { city: 'Unknown', state: '', country: '', lat: null, lon: null };
                this.weather = { temp: '--', condition: 'Loading...', icon: '‚òÄÔ∏è' };
            }

            /**
             * INITIALIZE ALL SYSTEMS
             */
            async init() {
                console.log('üöÄ Phoenix Engine Initializing...');
                console.log('üåê API Base:', API_BASE);
                
                // Step 1: Authentication
                const isAuth = await this.authenticate();
                if (!isAuth) {
                    console.log('‚ùå Auth failed, but continuing for demo');
                    // Continue anyway for demo purposes
                }
                
                // Step 2: Setup 3D Scene
                this.setupScene();
                this.createPhoenixCore();
                this.createPlanets();
                this.createParticleField();
                this.setupLighting();
                
                // Step 3: Setup Event Listeners
                this.setupEventListeners();
                this.setupUIHandlers();
                
                // Step 4: Start Animation Loop
                this.animate();
                
                // Step 5: Initialize HUD
                this.startHUD();
                
                // Step 6: Weather & Location (IP Geolocation) - ACTUALLY WORKS NOW
                await this.initWeatherAndLocation();
                
                // Step 7: Load User Data & Check Connections - ACTUALLY WORKS NOW
                await this.loadUserData();
                await this.checkConnections();
                
                // Step 8: Start Data Sync
                this.startDataSync();
                
                // Step 9: Check if first-time sync needed
                this.checkFirstTimeSync();
                
                // Hide loading screen
                setTimeout(() => {
                    document.getElementById('loading').style.opacity = '0';
                    setTimeout(() => document.getElementById('loading').style.display = 'none', 1000);
                }, 2000);
                
                console.log('‚úÖ Phoenix Engine Initialized - All Systems Operational');
            }

            /**
             * WEATHER & LOCATION - ACTUALLY WORKING IP GEOLOCATION
             */
            async initWeatherAndLocation() {
                try {
                    console.log('üåç Getting location via IP geolocation...');
                    
                    // Get location from IP using ipapi.co
                    const locationResponse = await fetch('https://ipapi.co/json/');
                    const locationData = await locationResponse.json();
                    
                    this.location = {
                        city: locationData.city || 'Unknown',
                        state: locationData.region_code || '',
                        country: locationData.country_name || '',
                        lat: locationData.latitude,
                        lon: locationData.longitude
                    };
                    
                    console.log('üìç Location detected:', this.location);
                    
                    // Update location display
                    const locationText = document.getElementById('location-text');
                    if (locationText) {
                        locationText.textContent = `${this.location.city}, ${this.location.state}`;
                    }
                    
                    // Get weather using Open-Meteo (free, no API key needed)
                    if (this.location.lat && this.location.lon) {
                        console.log('üå§Ô∏è Fetching weather data...');
                        
                        const weatherResponse = await fetch(
                            `https://api.open-meteo.com/v1/forecast?latitude=${this.location.lat}&longitude=${this.location.lon}&current_weather=true&temperature_unit=fahrenheit`
                        );
                        const weatherData = await weatherResponse.json();
                        
                        if (weatherData.current_weather) {
                            const temp = Math.round(weatherData.current_weather.temperature);
                            const weatherCode = weatherData.current_weather.weathercode;
                            
                            // Map weather codes to icons and conditions
                            const weatherMap = {
                                0: { icon: '‚òÄÔ∏è', condition: 'Clear' },
                                1: { icon: 'üå§Ô∏è', condition: 'Mostly Clear' },
                                2: { icon: '‚õÖ', condition: 'Partly Cloudy' },
                                3: { icon: '‚òÅÔ∏è', condition: 'Cloudy' },
                                45: { icon: 'üå´Ô∏è', condition: 'Foggy' },
                                48: { icon: 'üå´Ô∏è', condition: 'Foggy' },
                                51: { icon: 'üåßÔ∏è', condition: 'Light Rain' },
                                53: { icon: 'üåßÔ∏è', condition: 'Rain' },
                                55: { icon: 'üåßÔ∏è', condition: 'Heavy Rain' },
                                61: { icon: 'üåßÔ∏è', condition: 'Light Rain' },
                                63: { icon: 'üåßÔ∏è', condition: 'Rain' },
                                65: { icon: 'üåßÔ∏è', condition: 'Heavy Rain' },
                                71: { icon: '‚ùÑÔ∏è', condition: 'Light Snow' },
                                73: { icon: '‚ùÑÔ∏è', condition: 'Snow' },
                                75: { icon: '‚ùÑÔ∏è', condition: 'Heavy Snow' },
                                95: { icon: '‚õàÔ∏è', condition: 'Thunderstorm' }
                            };
                            
                            const weather = weatherMap[weatherCode] || { icon: '‚òÄÔ∏è', condition: 'Clear' };
                            
                            this.weather = {
                                temp: temp,
                                condition: weather.condition,
                                icon: weather.icon
                            };
                            
                            // Update weather display
                            document.getElementById('weather-icon').textContent = this.weather.icon;
                            document.getElementById('weather-temp').textContent = `${this.weather.temp}¬∞F`;
                            document.getElementById('weather-condition').textContent = this.weather.condition;
                            
                            console.log('‚úÖ Weather updated:', this.weather);
                        }
                    }
                    
                    // Update weather every 30 minutes
                    setInterval(() => this.updateWeather(), 30 * 60 * 1000);
                    
                } catch (error) {
                    console.error('‚ùå Weather/Location error:', error);
                    document.getElementById('location-text').textContent = 'Location Unavailable';
                    document.getElementById('weather-condition').textContent = 'Weather Unavailable';
                }
            }

            async updateWeather() {
                // Refresh weather data
                if (this.location.lat && this.location.lon) {
                    try {
                        const weatherResponse = await fetch(
                            `https://api.open-meteo.com/v1/forecast?latitude=${this.location.lat}&longitude=${this.location.lon}&current_weather=true&temperature_unit=fahrenheit`
                        );
                        const weatherData = await weatherResponse.json();
                        
                        if (weatherData.current_weather) {
                            const temp = Math.round(weatherData.current_weather.temperature);
                            document.getElementById('weather-temp').textContent = `${temp}¬∞F`;
                        }
                    } catch (error) {
                        console.error('Weather update error:', error);
                    }
                }
            }

            /**
             * CHECK CONNECTIONS - ACTUALLY CALLS REAL API
             */
            async checkConnections() {
                console.log('üîå Checking planetary connections...');
                
                try {
                    // Check Mercury (devices) - REAL API CALL
                    const mercuryData = await fetchAPI('/mercury/devices');
                    this.connectedSystems.mercury = mercuryData.success && mercuryData.devices && mercuryData.devices.length > 0;
                    console.log('üí™ Mercury connected:', this.connectedSystems.mercury);
                    
                    // Check Earth (calendar) - REAL API CALL
                    const earthData = await fetchAPI('/earth/calendar/events');
                    this.connectedSystems.earth = earthData.success;
                    console.log('üåç Earth connected:', this.connectedSystems.earth);
                    
                    // Check Mars (goals) - REAL API CALL
                    const marsData = await fetchAPI('/mars/goals');
                    this.connectedSystems.mars = marsData.success && marsData.goals && marsData.goals.length > 0;
                    console.log('üéØ Mars connected:', this.connectedSystems.mars);
                    
                    // Check Jupiter (accounts) - REAL API CALL
                    const jupiterData = await fetchAPI('/jupiter/accounts');
                    this.connectedSystems.jupiter = jupiterData.success && jupiterData.accounts && jupiterData.accounts.length > 0;
                    console.log('üí∞ Jupiter connected:', this.connectedSystems.jupiter);
                    
                    // Venus and Saturn - always available for logging
                    this.connectedSystems.venus = true;
                    this.connectedSystems.saturn = true;
                    
                    // Update UI
                    this.updateConnectionUI();
                    
                } catch (error) {
                    console.error('Connection check error:', error);
                }
            }

            updateConnectionUI() {
                const connected = Object.values(this.connectedSystems).filter(v => v).length;
                const total = Object.keys(this.connectedSystems).length;
                
                console.log(`üìä Connected Systems: ${connected}/${total}`);
                
                // Update sync count
                const syncCount = document.getElementById('sync-count');
                if (syncCount) syncCount.textContent = connected;
                
                // Update connected services badges
                const servicesContainer = document.getElementById('connected-services');
                if (servicesContainer) {
                    servicesContainer.innerHTML = '';
                    
                    const planetIcons = {
                        mercury: 'üí™',
                        venus: 'üçΩÔ∏è',
                        earth: 'üåç',
                        mars: 'üéØ',
                        jupiter: 'üí∞',
                        saturn: '‚è≥'
                    };
                    
                    Object.entries(this.connectedSystems).forEach(([planet, isConnected]) => {
                        if (isConnected) {
                            const badge = document.createElement('span');
                            badge.className = 'service-badge';
                            badge.textContent = planetIcons[planet];
                            badge.title = planet.toUpperCase();
                            servicesContainer.appendChild(badge);
                        }
                    });
                }
                
                // Update status badges in sync panel
                Object.keys(this.connectedSystems).forEach(planet => {
                    const badge = document.getElementById(`${planet}-status`);
                    if (badge) {
                        if (this.connectedSystems[planet]) {
                            badge.textContent = 'CONNECTED';
                            badge.classList.add('connected');
                        } else {
                            badge.textContent = 'NOT CONNECTED';
                            badge.classList.remove('connected');
                        }
                    }
                });
                
                // Update sync button
                const syncBtn = document.getElementById('sync-status-btn');
                if (syncBtn) {
                    const syncText = document.getElementById('sync-text');
                    if (connected === total) {
                        syncText.textContent = 'ALL SYNCED';
                        syncBtn.style.borderColor = 'rgba(0,255,136,0.5)';
                        syncBtn.style.background = 'rgba(0,255,136,0.1)';
                    } else {
                        syncText.textContent = `SYNC (${connected}/${total})`;
                    }
                }
            }

            /**
             * CHECK FIRST TIME SYNC
             */
            checkFirstTimeSync() {
                const hasSeenSync = localStorage.getItem('phoenixHasSeenSync');
                const connected = Object.values(this.connectedSystems).filter(v => v).length;
                const total = Object.keys(this.connectedSystems).length;
                
                if (!hasSeenSync && connected < total) {
                    setTimeout(() => this.showSyncPrompt(), 3000);
                }
            }

            showSyncPrompt() {
                const prompt = document.getElementById('sync-prompt');
                const checklist = document.getElementById('sync-checklist');
                
                if (!prompt || !checklist) return;
                
                // Build checklist
                const planets = [
                    { name: 'mercury', label: 'üí™ Mercury - Health & Biometrics', description: 'Connect Fitbit or Polar' },
                    { name: 'venus', label: 'üçΩÔ∏è Venus - Fitness & Nutrition', description: 'Log workouts and meals' },
                    { name: 'earth', label: 'üåç Earth - Calendar & Energy', description: 'Connect Google Calendar' },
                    { name: 'mars', label: 'üéØ Mars - Goals & Habits', description: 'Create your first goal' },
                    { name: 'jupiter', label: 'üí∞ Jupiter - Finance', description: 'Connect bank accounts' },
                    { name: 'saturn', label: '‚è≥ Saturn - Longevity', description: 'Setup health profile' }
                ];
                
                checklist.innerHTML = planets.map(p => {
                    const isConnected = this.connectedSystems[p.name];
                    const checkmark = isConnected ? '‚úÖ' : '‚ö™';
                    const opacity = isConnected ? '0.6' : '1';
                    
                    return `
                        <div style="display:flex;align-items:center;gap:12px;padding:10px;opacity:${opacity}">
                            <span style="font-size:20px">${checkmark}</span>
                            <div style="flex:1">
                                <div style="font-size:13px;color:#00ffff;font-weight:bold">${p.label}</div>
                                <div style="font-size:10px;color:rgba(0,255,255,0.6)">${p.description}</div>
                            </div>
                        </div>
                    `;
                }).join('');
                
                prompt.style.display = 'flex';
            }

            /**
             * UI EVENT HANDLERS
             */
            setupUIHandlers() {
                // Action Menu Buttons
                ['workout', 'meal', 'goals', 'chat', 'butler', 'insights'].forEach(action => {
                    const btn = document.getElementById('action-' + action);
                    if (btn) {
                        btn.addEventListener('click', () => {
                            this.closeActionMenu();
                            
                            if (action === 'workout') openWorkoutModal();
                            else if (action === 'meal') openMealModal();
                            else if (action === 'goals') this.openPlanetDetail('mars');
                            else if (action === 'chat') {
                                toggleVoice();
                                toggleConversationPanel();
                            }
                            else if (action === 'butler') toggleButlerPanel();
                            else if (action === 'insights') this.showInsights();
                        });
                    }
                });
                
                // Quick Action Buttons
                ['workout', 'meal', 'butler', 'chat'].forEach(action => {
                    const btn = document.getElementById('quick-' + action);
                    if (btn) {
                        btn.addEventListener('click', () => {
                            if (action === 'workout') openWorkoutModal();
                            else if (action === 'meal') openMealModal();
                            else if (action === 'butler') toggleButlerPanel();
                            else if (action === 'chat') {
                                toggleVoice();
                                toggleConversationPanel();
                            }
                        });
                    }
                });
                
                // Close Planet Detail
                document.getElementById('close-detail').addEventListener('click', () => this.closePlanetDetail());
            }

            /**
             * ACTION MENU TOGGLE
             */
            toggleActionMenu() {
                this.actionMenuOpen = !this.actionMenuOpen;
                document.getElementById('action-menu').style.display = this.actionMenuOpen ? 'block' : 'none';
            }

            closeActionMenu() {
                this.actionMenuOpen = false;
                document.getElementById('action-menu').style.display = 'none';
            }

            /**
             * PLANET DETAIL MODAL
             */
            openPlanetDetail(planetName) {
                this.currentPlanet = planetName;
                document.getElementById('planet-detail').style.display = 'block';
                
                const planetData = {
                    mercury: { title: 'FITNESS & RECOVERY', subtitle: 'Workouts, Performance, Biometrics' },
                    venus: { title: 'NUTRITION', subtitle: 'Meals, Macros, Supplements' },
                    earth: { title: 'SCHEDULE & TIME', subtitle: 'Calendar, Energy, Optimization' },
                    mars: { title: 'GOALS & HABITS', subtitle: 'Objectives, Progress, Achievements' },
                    jupiter: { title: 'WEALTH & FINANCE', subtitle: 'Spending, Budgets, Correlations' },
                    saturn: { title: 'LEGACY & LONGEVITY', subtitle: 'Long-term Health, Life Timeline' }
                };
                
                const planet = planetData[planetName] || planetData.mercury;
                document.getElementById('detail-title').textContent = planet.title;
                document.getElementById('detail-subtitle').textContent = planet.subtitle;
                
                this.loadPlanetContent(planetName);
            }

            closePlanetDetail() {
                document.getElementById('planet-detail').style.display = 'none';
                this.currentPlanet = null;
            }

            loadPlanetContent(planetName) {
                if (window.planetSystem) {
                    window.planetSystem.loadDashboardContent(planetName);
                    return;
                }
                
                const content = document.getElementById('detail-content');
                content.innerHTML = '<div style="text-align:center;padding:60px"><div style="font-size:48px;margin-bottom:20px">‚è≥</div><div style="font-size:24px;color:#00ffff">Loading dashboard...</div></div>';
                
                setTimeout(() => {
                    if (window.planetSystem) {
                        window.planetSystem.loadDashboardContent(planetName);
                    }
                }, 500);
            }

            /**
             * AUTHENTICATION - REAL API CALL
             */
            async authenticate() {
                const token = localStorage.getItem('phoenixToken');
                if (!token) {
                    console.log('‚ùå No token found');
                    // Don't redirect for demo purposes
                    // window.location.href = '/login.html';
                    return false;
                }
                
                try {
                    const data = await fetchAPI('/auth/me');
                    
                    if (data.success && data.user) {
                        this.userId = data.user._id;
                        console.log('‚úÖ Authenticated:', data.user.name);
                        
                        // Personalized greeting
                        const hour = new Date().getHours();
                        const greeting = hour < 12 ? 'Good Morning' : hour < 18 ? 'Good Afternoon' : 'Good Evening';
                        document.querySelector('.greeting-main').textContent = greeting + ', ' + data.user.name.split(' ')[0];
                        
                        return true;
                    } else {
                        console.log('‚ùå Auth failed');
                        return false;
                    }
                } catch (error) {
                    console.error('‚ùå Auth error:', error);
                    return false;
                }
            }

            /**
             * DATA LOADING - REAL API CALL
             */
            async loadUserData() {
                if (!this.userId) return;
                console.log('üìä Loading user data...');
                
                try {
                    const data = await fetchAPI('/mercury/recovery/dashboard');
                    
                    if (data.success && data.data) {
                        this.recoveryScore = data.data.recoveryScore || 75;
                        this.updateRecovery();
                        console.log('‚úÖ Recovery score loaded:', this.recoveryScore);
                    }
                } catch (error) {
                    console.error('Error loading recovery:', error);
                }
            }

            startDataSync() {
                // Sync data every 30 seconds
                setInterval(() => this.loadUserData(), 30000);
            }

            async showInsights() {
                this.showNotification('Analyzing Data', 'Phoenix is analyzing your patterns...');
                
                try {
                    const data = await fetchAPI('/phoenix/insights');
                    console.log('üìä Insights:', data);
                } catch (error) {
                    console.error('Error loading insights:', error);
                }
            }

            /**
             * 3D SCENE SETUP
             */
            setupScene() {
                this.scene = new THREE.Scene();
                this.scene.fog = new THREE.FogExp2(0x000000, 0.0008);
                
                this.camera = new THREE.PerspectiveCamera(
                    75,
                    window.innerWidth / window.innerHeight,
                    0.1,
                    1000
                );
                this.camera.position.z = 15;
                
                this.renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
                this.renderer.setSize(window.innerWidth, window.innerHeight);
                this.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                
                document.getElementById('container').appendChild(this.renderer.domElement);
                
                window.addEventListener('resize', () => {
                    this.camera.aspect = window.innerWidth / window.innerHeight;
                    this.camera.updateProjectionMatrix();
                    this.renderer.setSize(window.innerWidth, window.innerHeight);
                });
            }

            createPhoenixCore() {
                const geometry = new THREE.SphereGeometry(1.5, 64, 64);
                const material = new THREE.MeshPhongMaterial({
                    color: 0x00ffff,
                    emissive: 0x00ffff,
                    emissiveIntensity: 0.5,
                    shininess: 100,
                    transparent: true,
                    opacity: 0.8
                });
                
                this.phoenixCore = new THREE.Mesh(geometry, material);
                this.scene.add(this.phoenixCore);
                
                for (let i = 0; i < 3; i++) {
                    const ringGeometry = new THREE.TorusGeometry(2 + i * 0.5, 0.02, 16, 100);
                    const ringMaterial = new THREE.MeshBasicMaterial({
                        color: 0x00ffff,
                        transparent: true,
                        opacity: 0.3
                    });
                    const ring = new THREE.Mesh(ringGeometry, ringMaterial);
                    ring.rotation.x = Math.PI / 2;
                    ring.userData.rotationSpeed = 0.001 * (i + 1);
                    this.phoenixCore.add(ring);
                }
                
                const glowGeometry = new THREE.SphereGeometry(1.8, 32, 32);
                const glowMaterial = new THREE.MeshBasicMaterial({
                    color: 0x00ffff,
                    transparent: true,
                    opacity: 0.1
                });
                const glow = new THREE.Mesh(glowGeometry, glowMaterial);
                this.phoenixCore.add(glow);
            }

            createPlanets() {
                const planetData = [
                    { name: 'MERCURY', color: 0xff6b35, angle: 0, distance: 8 },
                    { name: 'VENUS', color: 0xff66ff, angle: Math.PI / 3, distance: 8 },
                    { name: 'EARTH', color: 0x00ff88, angle: 2 * Math.PI / 3, distance: 8 },
                    { name: 'MARS', color: 0xff4444, angle: Math.PI, distance: 8 },
                    { name: 'JUPITER', color: 0xffaa00, angle: 4 * Math.PI / 3, distance: 8 },
                    { name: 'SATURN', color: 0x8844ff, angle: 5 * Math.PI / 3, distance: 8 }
                ];
                
                planetData.forEach((data, index) => {
                    const geometry = new THREE.SphereGeometry(0.6, 32, 32);
                    const material = new THREE.MeshPhongMaterial({
                        color: data.color,
                        emissive: data.color,
                        emissiveIntensity: 0.3,
                        shininess: 80
                    });
                    
                    const planet = new THREE.Mesh(geometry, material);
                    planet.userData = {
                        angle: data.angle,
                        distance: data.distance,
                        speed: 0.0005 + index * 0.0002,
                        name: data.name
                    };
                    
                    this.scene.add(planet);
                    this.planets.push(planet);
                    
                    const glowGeometry = new THREE.SphereGeometry(0.8, 16, 16);
                    const glowMaterial = new THREE.MeshBasicMaterial({
                        color: data.color,
                        transparent: true,
                        opacity: 0.2
                    });
                    const glow = new THREE.Mesh(glowGeometry, glowMaterial);
                    planet.add(glow);
                });
            }

            createParticleField() {
                const particleCount = 3000;
                const geometry = new THREE.BufferGeometry();
                const positions = new Float32Array(particleCount * 3);
                const velocities = [];
                
                for (let i = 0; i < particleCount; i++) {
                    positions[i * 3] = (Math.random() - 0.5) * 50;
                    positions[i * 3 + 1] = (Math.random() - 0.5) * 50;
                    positions[i * 3 + 2] = (Math.random() - 0.5) * 50;
                    
                    velocities.push({
                        x: (Math.random() - 0.5) * 0.02,
                        y: (Math.random() - 0.5) * 0.02,
                        z: (Math.random() - 0.5) * 0.02
                    });
                }
                
                geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                
                const material = new THREE.PointsMaterial({
                    color: 0x00ffff,
                    size: 0.05,
                    transparent: true,
                    opacity: 0.6,
                    blending: THREE.AdditiveBlending
                });
                
                const particles = new THREE.Points(geometry, material);
                particles.userData.velocities = velocities;
                
                this.scene.add(particles);
                this.particles.push(particles);
            }

            setupLighting() {
                const ambient = new THREE.AmbientLight(0x404040);
                this.scene.add(ambient);
                
                const pointLight = new THREE.PointLight(0x00ffff, 2, 50);
                this.phoenixCore.add(pointLight);
                
                const light1 = new THREE.PointLight(0xff6b35, 0.5, 20);
                light1.position.set(5, 5, 5);
                this.scene.add(light1);
                
                const light2 = new THREE.PointLight(0xff66ff, 0.5, 20);
                light2.position.set(-5, -5, 5);
                this.scene.add(light2);
            }

            setupEventListeners() {
                this.raycaster = new THREE.Raycaster();
                this.mouseVector = new THREE.Vector2();
                
                const clickHandler = (e) => {
                    e.preventDefault();
                    
                    const x = e.touches ? e.touches[0].clientX : e.clientX;
                    const y = e.touches ? e.touches[0].clientY : e.clientY;
                    
                    this.mouseVector.x = (x / window.innerWidth) * 2 - 1;
                    this.mouseVector.y = -(y / window.innerHeight) * 2 + 1;
                    
                    this.raycaster.setFromCamera(this.mouseVector, this.camera);
                    
                    const coreIntersects = this.raycaster.intersectObject(this.phoenixCore);
                    if (coreIntersects.length > 0 && !this.actionMenuOpen) {
                        this.toggleActionMenu();
                        return;
                    }
                    
                    const planetIntersects = this.raycaster.intersectObjects(this.planets);
                    if (planetIntersects.length > 0) {
                        const planet = planetIntersects[0].object;
                        const planetName = planet.userData.name.toLowerCase();
                        this.openPlanetDetail(planetName);
                    }
                    
                    if (this.actionMenuOpen && coreIntersects.length === 0) {
                        this.closeActionMenu();
                    }
                };
                
                document.addEventListener('click', clickHandler);
                document.addEventListener('touchstart', clickHandler);
                
                document.addEventListener('mousemove', (e) => {
                    this.mouseX = (e.clientX / window.innerWidth) * 2 - 1;
                    this.mouseY = -(e.clientY / window.innerHeight) * 2 + 1;
                });
            }

            animate() {
                requestAnimationFrame(() => this.animate());
                this.time += 0.01;
                
                if (this.phoenixCore) {
                    this.phoenixCore.rotation.y += 0.002;
                    const scale = 1 + Math.sin(this.time * 2) * 0.05;
                    this.phoenixCore.scale.set(scale, scale, scale);
                    
                    this.phoenixCore.children.forEach(child => {
                        if (child.userData.rotationSpeed) {
                            child.rotation.z += child.userData.rotationSpeed;
                        }
                    });
                }
                
                this.planets.forEach(planet => {
                    planet.userData.angle += planet.userData.speed;
                    planet.position.x = Math.cos(planet.userData.angle) * planet.userData.distance;
                    planet.position.z = Math.sin(planet.userData.angle) * planet.userData.distance;
                    planet.rotation.y += 0.01;
                });
                
                this.particles.forEach(particleSystem => {
                    const positions = particleSystem.geometry.attributes.position.array;
                    const velocities = particleSystem.userData.velocities;
                    
                    for (let i = 0; i < positions.length; i += 3) {
                        positions[i] += velocities[i / 3].x;
                        positions[i + 1] += velocities[i / 3].y;
                        positions[i + 2] += velocities[i / 3].z;
                        
                        if (Math.abs(positions[i]) > 25) velocities[i / 3].x *= -1;
                        if (Math.abs(positions[i + 1]) > 25) velocities[i / 3].y *= -1;
                        if (Math.abs(positions[i + 2]) > 25) velocities[i / 3].z *= -1;
                    }
                    
                    particleSystem.geometry.attributes.position.needsUpdate = true;
                });
                
                const targetX = this.mouseX * 2;
                const targetY = this.mouseY * 2;
                this.camera.position.x += (targetX - this.camera.position.x) * 0.05;
                this.camera.position.y += (targetY - this.camera.position.y) * 0.05;
                this.camera.lookAt(this.scene.position);
                
                this.renderer.render(this.scene, this.camera);
            }

            startHUD() {
                this.updateTime();
                setInterval(() => this.updateTime(), 1000);
                
                this.updateRecovery();
                setInterval(() => this.updateRecovery(), 30000);
            }

            updateTime() {
                const now = new Date();
                const time = now.toLocaleTimeString('en-US', {
                    hour: '2-digit',
                    minute: '2-digit',
                    hour12: false
                });
                const date = now.toLocaleDateString('en-US', {
                    weekday: 'short',
                    month: 'short',
                    day: 'numeric'
                });
                
                document.getElementById('time-display').textContent = time;
                document.getElementById('date-display').textContent = date;
            }

            updateRecovery() {
                const recoveryEl = document.getElementById('recovery-value');
                const fillEl = document.getElementById('recovery-fill');
                const statusEl = document.getElementById('recovery-status');
                
                if (recoveryEl) recoveryEl.textContent = Math.round(this.recoveryScore) + '%';
                if (fillEl) fillEl.style.width = this.recoveryScore + '%';
                
                if (statusEl) {
                    if (this.recoveryScore >= 75) statusEl.textContent = 'Optimal';
                    else if (this.recoveryScore >= 50) statusEl.textContent = 'Good';
                    else if (this.recoveryScore >= 25) statusEl.textContent = 'Low';
                    else statusEl.textContent = 'Rest Needed';
                }
            }

            showNotification(title, message) {
                const notification = document.createElement('div');
                notification.style.cssText = 'position:fixed;top:100px;right:30px;background:rgba(0,10,20,0.95);border:2px solid rgba(0,255,255,0.5);padding:20px;max-width:300px;z-index:10000;animation:slideIn 0.3s;box-shadow:0 0 30px rgba(0,255,255,0.3);border-radius:8px';
                notification.innerHTML = '<div style="font-size:14px;font-weight:bold;color:#00ffff;margin-bottom:10px">' + title + '</div><div style="font-size:12px;color:rgba(0,255,255,0.7)">' + message + '</div>';
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.animation = 'slideOut 0.3s';
                    setTimeout(() => notification.remove(), 300);
                }, 5000);
            }
        }

        // Initialize Phoenix Engine
        const phoenix = new PhoenixEngine();
        window.phoenix = phoenix;

        /**
         * SYNC FUNCTIONS - ACTUALLY WORK NOW
         */
        window.openSyncPanel = function() {
            document.getElementById('sync-panel').style.display = 'block';
        };

        window.closeSyncPanel = function() {
            document.getElementById('sync-panel').style.display = 'none';
        };

        window.startFullSync = function() {
            localStorage.setItem('phoenixHasSeenSync', 'true');
            openSyncPanel();
            document.getElementById('sync-prompt').style.display = 'none';
        };

        window.skipSync = function() {
            localStorage.setItem('phoenixHasSeenSync', 'true');
            document.getElementById('sync-prompt').style.display = 'none';
        };

        window.syncAllPlanets = async function() {
            const btn = document.getElementById('sync-all-btn');
            btn.textContent = '‚è≥ SYNCING...';
            btn.disabled = true;
            
            // Actually sync by rechecking all connections
            await phoenix.checkConnections();
            
            phoenix.showNotification('Sync Complete', 'All planetary systems updated');
            btn.textContent = '‚úÖ ALL SYSTEMS SYNCED';
            
            setTimeout(() => {
                btn.textContent = '‚ö° SYNC ALL PLANETS NOW';
                btn.disabled = false;
            }, 3000);
        };

        /**
         * DEVICE & SERVICE CONNECTION FUNCTIONS - REAL API CALLS
         */
        window.connectDevice = async function(device) {
            try {
                console.log('üîó Connecting device:', device);
                const data = await fetchAPI(`/mercury/devices/${device}/connect`, {
                    method: 'POST'
                });
                
                if (data.success && data.authUrl) {
                    phoenix.showNotification('Device Connection', `Redirecting to ${device} authorization...`);
                    setTimeout(() => {
                        window.location.href = data.authUrl;
                    }, 1000);
                } else {
                    phoenix.showNotification('Connection Info', data.message || 'Connection initiated');
                }
            } catch (error) {
                console.error('Device connection error:', error);
                phoenix.showNotification('Connection Error', 'Failed to connect device');
            }
        };

        window.connectCalendar = async function(provider) {
            try {
                console.log('üìÖ Connecting calendar:', provider);
                const data = await fetchAPI(`/earth/calendar/connect/${provider}`);
                
                if (data.success && data.authUrl) {
                    phoenix.showNotification('Calendar Connection', 'Redirecting to authorization...');
                    setTimeout(() => {
                        window.location.href = data.authUrl;
                    }, 1000);
                }
            } catch (error) {
                console.error('Calendar connection error:', error);
                phoenix.showNotification('Connection Error', 'Failed to connect calendar');
            }
        };

        window.connectPlaid = async function() {
            try {
                console.log('üí∞ Connecting to Plaid...');
                const data = await fetchAPI('/jupiter/link-token', {
                    method: 'POST'
                });
                
                if (data.success && data.link_token) {
                    phoenix.showNotification('Plaid', 'Opening bank connection...');
                    // Would initialize Plaid Link here with the token
                    console.log('Plaid link token:', data.link_token);
                }
            } catch (error) {
                console.error('Plaid connection error:', error);
                phoenix.showNotification('Connection Error', 'Failed to initialize Plaid');
            }
        };

        window.setupVenus = function() {
            phoenix.openPlanetDetail('venus');
            closeSyncPanel();
        };

        window.setupMars = function() {
            phoenix.openPlanetDetail('mars');
            closeSyncPanel();
        };

        window.setupSaturn = function() {
            phoenix.openPlanetDetail('saturn');
            closeSyncPanel();
        };

        /**
         * BUTLER FUNCTIONS
         */
        window.toggleButlerPanel = function() {
            const panel = document.getElementById('butler-panel');
            if (panel) {
                const isVisible = panel.style.display !== 'none';
                panel.style.display = isVisible ? 'none' : 'block';
            }
        };

        window.butlerAction = async function(action) {
            console.log('ü§µ Butler action:', action);
            
            if (window.phoenixAI) {
                const commands = {
                    food: "Order my usual food",
                    ride: "Book me a ride",
                    reservation: "Make a dinner reservation",
                    calendar: "Add an event to my calendar",
                    email: "Send an email",
                    call: "Make a phone call"
                };
                
                await window.phoenixAI.processConversation(commands[action]);
            } else {
                phoenix.showNotification('Butler', `Processing: ${action}`);
            }
            
            toggleButlerPanel();
        };

        /**
         * WORKOUT LOGGING FUNCTIONS
         */
        window.openWorkoutModal = function() {
            document.getElementById('workout-modal').style.display = 'flex';
        };

        window.closeWorkoutModal = function() {
            document.getElementById('workout-modal').style.display = 'none';
            document.getElementById('workout-form').reset();
        };

        window.submitWorkout = async function(event) {
            event.preventDefault();
            
            const form = document.getElementById('workout-form');
            const loading = document.getElementById('workout-loading');
            
            // Show loading
            form.style.display = 'none';
            loading.style.display = 'block';
            
            try {
                // Step 1: Start workout
                console.log('üèãÔ∏è Starting workout...');
                const startData = {
                    workoutType: document.getElementById('workout-type').value,
                    startTime: new Date().toISOString()
                };
                
                const startResponse = await fetchAPI('/venus/workouts/start', {
                    method: 'POST',
                    body: JSON.stringify(startData)
                });
                
                if (!startResponse.success || !startResponse.data.workout) {
                    throw new Error('Failed to start workout');
                }
                
                const workoutId = startResponse.data.workout._id;
                console.log('‚úÖ Workout started:', workoutId);
                
                // Step 2: Log exercise
                console.log('üí™ Logging exercise...');
                const exerciseData = {
                    exerciseName: document.getElementById('exercise-name').value,
                    sets: parseInt(document.getElementById('workout-sets').value) || 0,
                    reps: parseInt(document.getElementById('workout-reps').value) || 0,
                    weight: parseFloat(document.getElementById('workout-weight').value) || 0,
                    notes: document.getElementById('workout-notes').value
                };
                
                await fetchAPI(`/venus/workouts/${workoutId}/exercise`, {
                    method: 'POST',
                    body: JSON.stringify(exerciseData)
                });
                
                console.log('‚úÖ Exercise logged');
                
                // Step 3: Complete workout
                console.log('‚úÖ Completing workout...');
                const duration = parseInt(document.getElementById('workout-duration').value) || 30;
                const completeData = {
                    endTime: new Date().toISOString(),
                    duration: duration,
                    notes: document.getElementById('workout-notes').value
                };
                
                await fetchAPI(`/venus/workouts/${workoutId}/complete`, {
                    method: 'POST',
                    body: JSON.stringify(completeData)
                });
                
                console.log('‚úÖ Workout completed successfully!');
                
                // Show success
                phoenix.showNotification('Workout Logged', `${exerciseData.exerciseName} - ${duration} minutes`);
                
                // Close modal
                closeWorkoutModal();
                
            } catch (error) {
                console.error('‚ùå Workout logging error:', error);
                phoenix.showNotification('Error', 'Failed to log workout. Check console for details.');
            } finally {
                form.style.display = 'block';
                loading.style.display = 'none';
            }
        };

        /**
         * MEAL LOGGING FUNCTIONS
         */
        window.openMealModal = function() {
            document.getElementById('meal-modal').style.display = 'flex';
        };

        window.closeMealModal = function() {
            document.getElementById('meal-modal').style.display = 'none';
            document.getElementById('meal-form').reset();
        };

        window.submitMeal = async function(event) {
            event.preventDefault();
            
            const form = document.getElementById('meal-form');
            const loading = document.getElementById('meal-loading');
            
            // Show loading
            form.style.display = 'none';
            loading.style.display = 'block';
            
            try {
                console.log('üçΩÔ∏è Logging meal...');
                
                const mealData = {
                    mealType: document.getElementById('meal-type').value,
                    foodName: document.getElementById('meal-name').value,
                    macros: {
                        protein: parseFloat(document.getElementById('meal-protein').value) || 0,
                        carbs: parseFloat(document.getElementById('meal-carbs').value) || 0,
                        fats: parseFloat(document.getElementById('meal-fats').value) || 0
                    },
                    calories: parseInt(document.getElementById('meal-calories').value) || 0,
                    notes: document.getElementById('meal-notes').value,
                    timestamp: new Date().toISOString()
                };
                
                const response = await fetchAPI('/venus/nutrition/log', {
                    method: 'POST',
                    body: JSON.stringify(mealData)
                });
                
                if (response.success) {
                    console.log('‚úÖ Meal logged successfully!');
                    const totalCals = mealData.calories || 
                        (mealData.macros.protein * 4 + mealData.macros.carbs * 4 + mealData.macros.fats * 9);
                    
                    phoenix.showNotification('Meal Logged', `${mealData.foodName} - ${Math.round(totalCals)} cal`);
                    closeMealModal();
                } else {
                    throw new Error(response.error || 'Failed to log meal');
                }
                
            } catch (error) {
                console.error('‚ùå Meal logging error:', error);
                phoenix.showNotification('Error', 'Failed to log meal. Check console for details.');
            } finally {
                form.style.display = 'block';
                loading.style.display = 'none';
            }
        };

        /**
         * VOICE CONTROLS
         */
        window.toggleVoice = function() {
            if (window.phoenixAI) {
                window.phoenixAI.toggleListening();
            }
        };

        window.changeVoice = function(voiceId) {
            if (window.phoenixAI) {
                window.phoenixAI.changeVoice(voiceId);
                console.log('üéôÔ∏è Voice changed to:', voiceId);
            }
        };

        window.sendMessage = function(message) {
            if (window.phoenixAI && message.trim()) {
                window.phoenixAI.processConversation(message);
            }
        };

        window.toggleConversationPanel = function() {
            const panel = document.getElementById('conversation-panel');
            if (panel) {
                const isVisible = panel.style.display !== 'none';
                panel.style.display = isVisible ? 'none' : 'block';
            }
        };

        /**
         * APP INITIALIZATION
         */
        window.addEventListener('DOMContentLoaded', async () => {
            console.log('üöÄ PHOENIX INITIALIZATION STARTING...');
            console.log('üåê Backend API:', API_BASE);
            
            await phoenix.init();
            
            const token = localStorage.getItem('phoenixToken');
            const apiClient = new PhoenixAPIClient(API_BASE, token);
            window.api = apiClient;
            
            const phoenixAI = new PhoenixConversationalAI(apiClient);
            window.phoenixAI = phoenixAI;
            
            // Phoenix Particles Animation
            (function initPhoenixParticles() {
                const canvas = document.getElementById('phoenix-particles');
                if (!canvas) return;
                
                const ctx = canvas.getContext('2d');
                const particles = [];
                const centerX = 100;
                const centerY = 100;
                
                for (let i = 0; i < 50; i++) {
                    particles.push({
                        angle: Math.random() * Math.PI * 2,
                        distance: Math.random() * 40 + 20,
                        size: Math.random() * 2 + 1,
                        speed: Math.random() * 0.02 + 0.01,
                        alpha: Math.random() * 0.5 + 0.3
                    });
                }
                
                function animate() {
                    ctx.clearRect(0, 0, 200, 200);
                    
                    particles.forEach(p => {
                        p.angle += p.speed;
                        const x = centerX + Math.cos(p.angle) * p.distance;
                        const y = centerY + Math.sin(p.angle) * p.distance;
                        
                        ctx.beginPath();
                        ctx.arc(x, y, p.size, 0, Math.PI * 2);
                        ctx.fillStyle = 'rgba(0,255,255,' + p.alpha + ')';
                        ctx.fill();
                    });
                    
                    requestAnimationFrame(animate);
                }
                
                animate();
            })();
            
            // Phoenix Core Click Handler
            const phoenixCoreContainer = document.getElementById('phoenix-core-container');
            if (phoenixCoreContainer) {
                phoenixCoreContainer.addEventListener('click', function() {
                    console.log('üî• Phoenix Core Activated');
                    phoenix.toggleActionMenu();
                });
            }
            
            console.log('üöÄ PHOENIX FULLY INITIALIZED');
            console.log('üìä 307 Endpoints Available');
            console.log('üåç IP Geolocation: ‚úÖ Active');
            console.log('üå§Ô∏è Weather Widget: ‚úÖ Active');
            console.log('‚ö° Sync System: ‚úÖ Ready');
            console.log('ü§ñ AI Companion: ‚úÖ Online');
            console.log('ü§µ Butler: ‚úÖ Ready');
            console.log('üí™ 6 Planetary Systems: ‚úÖ Operational');
            console.log('‚ú® The Most Sophisticated AI Companion on Earth');
        });
    </script>

    <!-- ============================================ -->
    <!-- MODULE LOADING -->
    <!-- ============================================ -->
    <script src="src/orchestrator.js"></script>
    <script src="src/api-fix.js"></script>
    <script type="module" src="./src/api.js"></script>
    <script type="module" src="./src/planets.js"></script>
    <script type="module" src="./src/jarvis.js"></script>
    <script type="module" src="./src/reactor.js"></script>
    <script type="module" src="./src/shaders.js"></script>
    <script type="module" src="./src/wearables.js"></script>
    <script src="phoenix-api-client.js"></script>
    <script src="phoenix-conversational-ai.js"></script>
</body>
</html>
